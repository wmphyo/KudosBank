const basicMathPracOneAnswers = [
    ["B",
        [
            "<b>1. Explanation:</b> There are a total of 100 senators, 20 of whom are female. Therefore,there must be 80 male senators. To find the ratio of female senators to male senators, divide the number of female senators by the number of male senators:  20/80 = ¼. Hence, Choice (B) is the correct answer."
        ]
    ],
    ["C",
        [
            "<b>2. Explanation:</b> Take each answer choice and divide it by 2. Then, check to see if the resulting number is 12 less than the answer choice. For example, choice (A): 12: 12 ÷ 2 = 6. And 6 is not 12 less than 12. Thus, choice (A) is incorrect. Only choice (C) works: 24 ÷ 2 = 24 − 12."
        ]
    ],
    ["B",
        [
            "<b>3. Explanation:</b> 22 + 6[(14 − 5) ÷ 3(17 - 14)], = 22 + 6[9 ÷ 3(3)], = 22 + 6[9 >÷ 9], = 22 + 6[1], = 22 + 6 = 28"
        ]
    ],
    ["D",
        [
            "<b>4. Explanation:</b> Multiply: 12 servings * 8 ounces = 96"
        ]
    ],
    ["B",
        [
            "<b>5. Explanation:</b> Add to find the total: $839 + $527 + 726 = $2092"
        ]
    ],
    
];

const basicMathPracTwoAnswers = [
    ["D",
        [
            "<b>1. Explanation:</b> 11 children * 2 party favors per child = 22."
        ]
    ],
    ["A",
        [
            "<b>2. Explanation:</b> Calculate: 30 − 25 = 5. The information that Sarah and Kate live 18 miles apart is not needed."
        ]
    ],
    ["C",
        [
            "<b>3. Explanation:</b>  The digit in the ten thousands column is less than 5, so round down"
        ]
    ],
    ["A",
        [
            "<b>4. Explanation:</b> Subtract to find the difference in mileage: 70,040 - 39,451 = 30,589"
        ]
    ],
    ["A",
        [
            "<b>5. Explanation:</b> Multiply: $125 * 45 = $5625."
        ]
    ],
];

const geometryPracOneAnswers = [
    ["D",
        [
            "<b>1. Explanation:</b> 2(w+5)+2w=90, 2w+10+2w=90, 4w+10=90, 4w=80, w=20, l=20+5=25"

        ]
    ],
    ["A",
        [
           "<b>2. Explanation:</b> The perimeter of the field is 450 feet. The equilateral triangle has three equal sides, so each will be 150 feet."
        ]
    ],
    ["B",
        [
            "<b>3. Explanation:</b> Each sphere has a radius r = 6 inches. The surface area is given by 4πr^2 = 4π * 6^2 = 4π * 36 = 144π = 144 * 3.14 = 452.16. Each sphere has an area of 452.16 square inches. Together, all three require 1356.48 square inches of paint. At 288 square inches a can, this means she needs 1356.48 ÷ 288 = 4.71 cans. She must buy 5 whole cans."
        ]
    ],
    ["B",
        [
            "<b>4. Explanation:</b> A square 4 feet on a side allows a circle of radius r = 2 feet. The area of this square will be A = πr^2 = π2^2 = 4π = 4 * 3.14 = 12.56 square feet."
        ]
    ],
    ["B",
        [
            "<b>5. Explanation:</b> Use C r= 2π to find the radius of each ball and V = 4/3πr^3 to find each volume.Dividing the circumference of the soccer ball by 2π gives a radius of 10.8 and a volume of 5310. Doing the same for the basketball gives a radius of 12 and a volume of 7268 cubic centimeters. The difference is 1958 cubic centimeters."
        ]
    ],
];

const probabilityPracOneAnswers = [
    ["C",
        [
            "<b>1. Explanation:</b> This question is a test in probability. You're asked to figure out the probability of an event occurring. If you had an entire deck of 52 cards, the probability of drawing an ace of hearts would be 1:52. If you remove 6 cards and none of them is the ace of hearts, you may as well have a 46-card deck (52 – 6). The probability of drawing an ace of hearts from a 46-card deck is 1:46."
        ]
    ],
    ["A",
        [
            "<b>2. Explanation:</b> 1 in 2 Of the 52 cards, 26 are either hearts or diamonds: 26/52  = ½."
        ]
    ],
    ["B",
        [
            "<b>3. Explanation:</b> After the five white chips are removed from the bag, the bag contains 10 chips, with 8 green and 2 white. The probability of getting green is 8/10, which equals 80%."
        ]
    ],
    ["B",
        [
            "<b>4. Explanation:</b> Each roll of the die has a one in six chance of landing on any of the six numbers. Therefore, multiplying the number of rolls by ⅙ will give you an estimate of how many times a 6 is likely to appear ⅙*66  =11."
        ]
    ],
    ["D",
        [
            "<b>5. Explanation:</b>  He has eight choices of shirt, four choices of pants, and three choices of shoes. 8 × 4 × 3 = 96."
        ]
    ],
    
];

const wordProblemPracOneAnswers = [
    ["C",
        [
            "<b>1. Explanation:</b> 132 persons/40 square miles = 132/40 persons per square mile = 3.3 persons per mile."
        ]
    ],
    ["D",
        [
            "<b>2. Explanation:</b> Because 5p is paid to every member, each number of team members would be multiplied by 5p, and the team totals would be added: 5p(6k) +5p(4p) + 5p(9h) = 30kp + 20p2 + 45hp."
        ]
    ],
    ["A",
        [
            "<b>3. Explanation:</b> Time for 1st train: t; distance: 120t. Time for 2nd train: t – 2; distance:80(t-2)."
        ]
    ],
    ["A",
        [
            "<b>4. Explanation:</b> The sum of 3 times a number and 4 times a second number is represented by the expression 3x + 4y. The sum of 2 and a third number is represented by 2 + z. The first expression is divided by the second. Parentheses are necessary to clarify the order of operations."
        ]
    ],
    ["C",
        [
            "<b>5. Explanation:</b> Let w = Wiley’s points, w + 10 = Sylvia’s points, and w – 6 = Greg’s points. Write and solve an equation: w + w + 10 + w − 6 = 226, 3w + 4 = 226, 3w = 222, w = 74. Wiley scored 74 points, so Sylvia scored 74 + 10 = 84 points."
        ]
    ],
];

const wordProblemPracTwoAnswers = [
    ["B",
        [
            "<b>1. Explanation:</b> $1150 × 0.06 = $69, but the loan is only for ⅓  of a year, so interest is ⅓ that, or $23.  $1150 + 23 = $1173"
        ]
    ],
    ["D",
        [
            "<b>2. Explanation:</b> The current worth of the car ($12,000) is part of the base. Solve for the base: $12,000 ÷ 0.6 = $20,000"
        ]
    ],
    ["C",
        [
            "<b>3. Explanation:</b> p pounds of peanuts have a total value of 2p dollars. c pounds of cashews have a total value of 7c dollars. 10 pounds of mixture has a total value of 5*10=50 dollars. 2p+7c=10. p+c=10, p+c-p=10-p , c=10-p , 2p+7c=50, 2p+7(10-p)=50, 2p+70-7p=50, -5p+70=50, -5p+70-70=50-70, -5p=-20, p=4"
        ]
    ],
    ["C",
        [
            "<b>4. Explanation:</b> he amount of pure antifreeze is the concentration times the amount of solution. Starting with 0.50.5 quarts of pure antifreeze and ending with 0.20(5+w)  quarts of pure antifreeze,.50*5=0.20(5+w), since the amount of pure antifreeze remains constant. 0.50*5=0.20(5+w), 2.5+=1+0.2w, 1.5=0.2w, w=7.5"
        ]
    ],
    ["B",
        [
            "<b>5. Explanation:</b> Alex’s total salary equals his base salary ($650) plus commission. The 9% commission applies only to his sales in excess of $10,000 (but not the initial $10,000 worth of sales). He sold 7 cars worth an average of $4,500 each, for a total of  7* $45,00 = 31,500 in sales. Alex’s commission is therefore 0.09($31,500-$10,000)=$1,935. Alex’s total salary equals $650 + $1,935 =  $2,585, making Choice (B) is correct."
        ]
    ],
    
];

const mcqSection = document.querySelector('.math-multiple-choice');
const feedbackSection = document.querySelector('.feedback');
const btnNext = document.getElementById('btnNext');
const btnBack = document.getElementById('btnPreviousPage');
const btnCheck = document.getElementById('btnCheck');
const btnGoBack = document.getElementById('btnGoBack');
const btnNextPage = document.getElementById('btnNextPage');
var maxPageNum = 5;
var correctAnsArr = [];
let pageNumber = 1;
let grade = 0;

btnNext.addEventListener('click', (e)=>{
    document.getElementById('ans'+pageNumber).classList.add('hide');
    pageNumber<maxPageNum?pageNumber++:null;
    document.getElementById('ans'+pageNumber).classList.remove('hide');
    
    if(pageNumber===maxPageNum){
        btnNext.classList.add('hide');
        btnCheck.classList.remove('hide');
    }

    if(pageNumber>1){
        btnBack.classList.remove('hide');
    }
});

btnBack.addEventListener('click', (e)=>{
    document.getElementById('ans'+pageNumber).classList.add('hide');
    pageNumber>1?pageNumber--:null;
    document.getElementById('ans'+pageNumber).classList.remove('hide');

    if(pageNumber!==maxPageNum){
        btnNext.classList.remove('hide');
        btnCheck.classList.add('hide');
    }
    if(pageNumber===1){
        btnBack.classList.add('hide');
    }
});

function checkAnswer(){
    var userInput = [];
    for (var j = 0; j <= maxPageNum;j++){
        //took group of radios by their names
        const selectedAnswer = document.getElementsByName("ans"+(j+1)+"");

        //this check for ALL 4 inputs under the same name
        for(var i = 0;i<selectedAnswer.length; i++){
            if(selectedAnswer[i].checked){ 
                userInput.push(selectedAnswer[i].value);
                break;
            } else {
                i===3?userInput.push('Unanswered'):null;
            }
        }
    }

    //correct answer - add grade | incorrect answer - add explanation
    for(var i=0;i< correctAnsArr.length;i++){
        //add grade
        if(userInput[i]===correctAnsArr[i][0]){
            grade++;
        }
    }

    //hide passage and multiple-choice
    mcqSection.classList.add('hide');
    feedbackSection.classList.remove('hide');

    //display "Final Results"
    const resultDIV = document.createElement('h2');
    resultDIV.innerHTML = 'Final Results';
    resultDIV.setAttribute('class', 'final-result');
    //display "total grade"
    const gradeDIV = document.createElement('div');
    gradeDIV.setAttribute('class', 'grade');
    gradeDIV.innerHTML = `Your total grade is ${grade} out of ${correctAnsArr.length}`;
    //display "Review your answer"
    const reviewDIV = document.createElement('div');
    reviewDIV.setAttribute('class', 'review-ans');
    reviewDIV.innerHTML = 'Review your answer';

    feedbackSection.append(resultDIV);
    feedbackSection.append(gradeDIV);
    feedbackSection.append(reviewDIV);

    for(var i=0;i<correctAnsArr.length;i++){
        //add those from the loop above to HTML
        const explanationDIV = document.createElement('div');
        explanationDIV.setAttribute('class', 'exp');

        //create DIVs
        const yourAnsPara = document.createElement('p');
        const correctAnsPara = document.createElement('p');

        //assign text and values
        yourAnsPara.innerHTML = `Your answer is: ${userInput[i]}`;
        correctAnsPara.innerHTML = `Correct answer is: ${correctAnsArr[i][0]}`;
        explanationDIV.append(yourAnsPara);
        explanationDIV.append(correctAnsPara);

        //if inner array got one, works as one, if nested, works as nested.
        for(var exp of correctAnsArr[i][1]){
            const feedBackPara = document.createElement('p');
            feedBackPara.innerHTML = exp;
            explanationDIV.append(feedBackPara);
        }
        feedbackSection.append(explanationDIV);
    }

    btnCheck.classList.add('hide');
    btnBack.classList.add('hide');
    btnGoBack.classList.remove('hide');
    btnNextPage.classList.remove('hide');
}

function pageCheck(){

    if(window.location.href.includes('basic-math-1')){
        correctAnsArr = basicMathPracOneAnswers;
    } else if (window.location.href.includes('basic-math-2')){
        correctAnsArr = basicMathPracTwoAnswers;
    } else if (window.location.href.includes('geometry-1')){
        correctAnsArr = geometryPracOneAnswers;
    } else if (window.location.href.includes('probability-1')){
        correctAnsArr = probabilityPracOneAnswers;
    } else if (window.location.href.includes('word-problem-1')){
        correctAnsArr = wordProblemPracOneAnswers;
    } else {
        correctAnsArr = wordProblemPracTwoAnswers;
    }
}


window.onload = pageCheck();
const questionsSets = [
    [
        {
            passage: [`Specialization Economics <br><br> In economics, the term "Specialization" refers to the specific approach of limiting the production of goods and services to increase efficiency. For example, a state specializes in the distribution of native fruit, while trading with other states for different kinds of fruit. There are various contexts for this approach, including departmentalization, flexible specialization and network governance. 
            
            The definition of departmentalization is in the name. It means to group processes by department. Processes can be unitized by function, product, consumer, location or division. Functional separation is based on employee expertise, such as technical support or accounting. Products can, of course, be categorized by type, like house-ware and clothes. Consumer separation allows businesses and economic entities to focus on the needs and shopping behaviors of a particular demographic. Location plays an important part in this as well, as consumer patterns frequently reflect community factors. Division separation is in reference to the different lines of a business that function as separate companies. For instance, a clothing store, a grocery and a sporting outlet owned by the same enterprise. <br><br>  In applying flexible specialization, companies prepare themselves for abrupt changes in the market by creating a multitude of product lines targeted at a wide range of customers. Utilizing advanced computer technology greatly assists in this, as some necessary updates can be easily made. 
            
            Network governance is when a host of independent entities collaborate together to produce a product or service. Decisions, norms, and rules are made through negotiations. Compliance is enforced by political obligation, and contracts are only socially binding. The primary benefit of network governance is freedom from hierarchical state control and competitive market regulation. This approach boosts efficiency because it reduces agency issues and pressures from globalization. It also encourages distributed knowledge acquisition, decentralized problem-solving and collective solutions. Participant-governed networks are those where the members interact and govern on an equal basis. Lead-organization networks have a chief governing body within. Some networks are brokered, meaning that contact between each organization is limited. Network governance is not universally accepted in the public sector because of fears that it cannot remain democratic. However, the approach is being applied more with time. `,
                ],
            question: "1. Which is NOT a context of specialization?",
            options: [
                "A. departmentalization",
                "B. functional separation",
                "C. flexible specialization",
                "D. network governance"
            ],
            answer: "B",
            explanation: "Explanation: The passage states, 'There are various contexts for this approach, including departmentalization, flexible specialization and network governance.” There is no mention of functional separation in the passage.'"
        },
        {
            passage: [`Women’s Suffrage<br><br> 

 

            The women's suffrage movement was an international endeavor that took place from the late 1800's throughout the 1900's to obtain voting privileges and the opportunity to campaign in elections. Women's suffrage is largely considered to be a branch of the women's rights and feminist progressions, which challenged gender inequalities, biases, and politics as a whole. In some countries, there was an overlap of these movements with those of slavery abolishment and racial civil rights. <br><br> 
            
             
            
              
            
            In the United States, New Jersey women with a certain amount of property could vote, but all women were later excluded from the process in 1807. Stringent laws regarding the liberties of married females and opposing attitudes about women in public speaking impeded the development of women's organizations early on. Support from the abolitionist Liberty Party and male political figures and activists helped recede resistance to structured associations. At the start of women's conventions, suffrage was not a central topic because of the belief that activists should focus on moral persuasion, instead of politics. The highly-publicized Seneca Falls and Rochester Women's Rights Conventions of 1848 were pivotal, as the subject of voting rights came to the forefront and a female chaired the later event. Two years later, the Ohio Women's Convention at Salem in 1850 was the first to be organized statewide. <br><br> 
            
             
            
              
            
            Annual national women's conventions soon followed. Widely published essays and tracts spread the word about the suffrage cause. Petition and speech appeals were made before lawmakers and legislators at constitutional conventions. A demonstration protesting the fact that women were required to pay taxes, despite not being able to vote on applicable laws, resulted in women losing their household goods. The Women's Loyal National League, the American Equal Rights Association and the New England Woman Suffrage Association had all surfaced and come to great influence, but there was dissension about political party affiliation, execution, and African American rights. <br><br>  1871, women began filing election lawsuits on the grounds that their Fourteenth Amendment rights had been violated. The Fourteenth Amendment declares that no state is allowed to make a law that hinders the equal protection and liberties of a United States citizen. In 1875, the Supreme Court ruled that no part of the constitution supported their suffrage arguments. Activist Susan B. Anthony was arrested and fined for attempting to vote. Her friend, Senator Aaron A. Sargent, introduced what would become the Nineteenth Amendment, which forbade gender-based voting discrimination. It was 42 years before it was adopted in 1920. Active attackers of the movement included groups of anti-socialists, family-traditionalists, segregationists, and breweries who suffered from alcohol-prohibition messages. <br><br> Starting in 1910, individual states were slowly allowing women to vote. President Theodore Roosevelt's socialist Progressive Party championed voting equality. Women working in male-dominated industries during World War I also helped turn a favorable tide. Finally, President Woodrow Wilson was able to successfully advocate for national ratification of the Nineteenth Amendment. The 1920 presidential election between Republican Warren G. Harding and Democrat James M. Cox was the first women could participate in. <br><br> `,
                ],
            question: "2. What was the women's suffrage movement about?",
            options: [
                "A. women's suffering",
                "B. voting rights ",
                "C. civil rights ",
                "D. feminism "
            ],
            answer: "B",
            explanation: "Explanation: The women’s suffrage movement was about gaining the right to vote for all women. The passage states, 'The women's suffrage movement was an international endeavor that took place from the late 1800's throughout the 1900's to obtain voting privileges . . . ' Women would not gain the right to vote until 1920. "
        },
        {
            passage: ["Human Changes to the Environment <br><br> Human activity greatly impacts the environment in various ways, as the processes of technological advancements, industrialism, consumption and waste all introduce foreign elements to or alter the earth's natural state and its non-human inhabitants. Organic evolutions and developments are sometimes halted or modified, launching a negative chain reaction. Some of the major ways that human life changes the environment is through agriculture, the energy industry, manufactured products, and transportation. <br><br> Though the effects of agriculture largely depend on the method of farming, most mainstream approaches have an impact on things such as climate change, deforestation, irrigation, and soil degradation and erosion. Soil can become oversaturated with water and unable to get the appropriate amount of oxygen. This can lead to excessive amounts of salt. If saltwater enters freshwater spaces, drinking water will get contaminated. Human groundwater pumping and water extraction have also resulted in saltwater intrusion, along with decreased water pressure and a rise sea levels. Immoderate seafood farming has caused some species to be nearly extinct. Meat distribution has been linked to gas and chemical emissions, and water quality impairment from manure. <br><br>  In the energy industry, the use of fossil fuels is correlated with global warming. Coal mining and burning causes toxic air pollution. Nuclear power releases radioisotopes and radiation that pose a danger to humans, plants, and animals. Power plants are often responsible for gas and chemical emissions, and depletion of energy sources, such as water reservoirs. Artificial light from street lights impinges animal navigation and breeding patterns, predator-prey interactions, hormones and circadian rhythms. <br><br>  Manufactured products, like cleaning agents, have a diverse effect on the environment. Cleaning agents can be bioactive, and generate developmental, hormonal and endocrine disruptors for animals. Pesticides are often exposed to unintended targets, tainting air, water, food and living organisms. Paints and coating materials can include lead and other noxious additives. Lead is a poisonous metal that research has shown to cause nerve damage, blood and brain disorders. Connections to human obesity and animal infertility from paint have also been made. Leather production involves carbon, exploitation of wastewater, harmful biodegradation, chemical tanning and enzymes. Plastic has similar biodegradation issues. <br><br> Next, to the energy industry, modern transportation is arguably the most detrimental to the environment. It requires unquantifiable amounts of energy and fuel, pollutes the air, and burns the most petroleum. Petroleum is highly toxic, particularly in its crude state and when it's exhausted. It is lethal to many animals, especially fish. It causes birth defects and has been associated with a myriad of human illnesses and conditions, including lymphoma. It also contributes to global warming."],
            question: "3. What makes transportation so harmful to the environment?",
            options: [
                "A. engines",
                "B. leather seats",
                "C. petroleum",
                "D. metal "
            ],
            answer: "C",
            explanation: 'Explanation: Burning petroleum is the part of transportation that makes it so damaging to the environment. When engines burn gas, they produce toxic chemicals and release greenhouse gases. The passage states, "It [transportation] requires unquantifiable amounts of energy and fuel, pollutes the air, and burns the most petroleum. Petroleum is highly toxic. . . . '
        },
        {
            passage: "George Washington: Early Career <br><br>  Born in 1732 into a Virginia planter family, he learned the morals, manners, and body of knowledge requisite for an 18th century Virginia gentleman. <br><br>  He pursued two intertwined interests: military arts and western expansion. At sixteen he helped survey Shenandoah lands for Thomas, Lord Fairfax. Commissioned a lieutenant colonel in 1754, he fought in the first skirmishes of what grew into the French and Indian War. The next year, as an aide to General Edward Braddock, he escaped injury although four bullets ripped his coat and two horses were shot from under him. <br><br> From 1759 to the outbreak of the American Revolution, Washington managed his lands around Mount Vernon and served in the Virginia House of Burgesses. Married to a widow, Martha Dandridge Custis, he devoted himself to a busy and happy life. But like his fellow planters, Washington felt himself exploited by British merchants and hampered by British regulations. As the quarrel with the mother country grew acute, he moderately but firmly voiced his resistance to the restrictions. ",
            question: "4. According to the passage, which was NOT an occupation of George Washington? ",
            options: [
                "A. lawyer ",
                "B. lieutenant colonel in the British Army ",
                "C. plantation owner",
                "D. surveyor "
            ],
            answer: "A",
            explanation: "Explanation: The passage states, “At sixteen he helped survey Shenandoah lands for Thomas, Lord Fairfax.” The passage also states that he was “Commissioned a lieutenant colonel in 1754, he fought the first skirmishes of what grew into the French and Indian War.” Lastly, the passage states that “From 1759 to the outbreak of the American Revolution, Washington managed his lands around Mount Vernon.” Nowhere in the passage does it mention Washington practicing law. "
        },
        {
            passage: "Trump’s Third Travel Ban is Blocked – Passage 1 <br><br> President Donald Trump struck out again with his third try at a travel ban, as a federal judge temporarily blocked it from taking effect nationwide on Wednesday. <br><br> This time, Trump’s order was found to discriminate by using the nationality of travelers “as a proxy” for their security risk. In earlier rulings over two prior attempts at a travel ban, judges said they were motivated by bias against Muslims, Bloomberg reported. <br><br>  The administration vowed to keep fighting, and the case could again reach the US Supreme Court, which has so far appeared more receptive than lower-court judges to Trump’s efforts to curtail immigration. The raging battle, now in its ninth month, has spurred a constitutional confrontation that could define powers of the presidency for years to come. Trump hasn’t shown that the entry of more than 150 million nationals from six specified countries would be 'detrimental to the interests of the United States,' US District Judge Derrick Watson in Honolulu said in issuing a temporary restraining order against the administration. <br><br> Federal immigration laws 'do not afford the President unbridled discretion to do as he pleases,' the judge said. <br><br> Trump’s Third Travel Ban is Blocked – Passage 2 <br><br>  On Tuesday and Wednesday, United States District Judges in two states issued rulings barring enforcement of part or all of the latest version of President Donald Trump's executive order forbidding people from specific countries from entering the United States. <br><br> On Tuesday, in Hawaii, District Judge Derrick Watson issued a temporary block on enforcement. On Wednesday, in Maryland, District Judge Theodore D. Chuang blocked one of its stipulations on the grounds that it was an 'inextricable re-animation of the twice-enjoined Muslim ban.' The order was to have gone into effect Wednesday night and would have affected people from Iran, Libya, North Korea, Somalia, Yemen, Syria, Chad, and some Venezuelans. <br><br>  Watson, who previously ruled on another version of the order, ruled that the current ban 'plainly discriminates based on nationality,' 'lacks sufficient findings that the entry of more than 150 million nationals from six specified countries would be 'detrimental to the interests of the United States' and 'suffers from precisely the same maladies as its predecessor.' <br><br> Chuang blocked the order's measure pertaining to anyone with a bona fide relationship to someone in the United States. <br><br> White House press secretary Sarah Huckabee Sanders told the press, 'The Department of Justice will vigorously defend the president's lawful action[...] These restrictions are vital to ensuring that foreign nations comply with the minimum security standards required for the integrity of our immigration system and the security of our nation.' ",
            question: "5. Which statement identifies a discrepancy between the two passages discussing the blocking of the Trump administration’s attempt to implement an immigration ban from specific Muslim countries?",
            options: [
                "A. Passage 1 states that the Trump administration will continue fighting for the ban, and passage 2 states that the administration has given up on its attempt to implement a ban. ",
                "B. Passage 1 states that the travel ban was blocked by a US District Judge from Hawaii; passage 2 states that the travel ban was blocked by US District Judges from Hawaii and Maryland. ",
                "C. Passage 1 states that the travel band was blocked by US District Judges from Hawaii and Maryland; passage 2 states that the travel ban was blocked by a US District Judge from Hawaii. ",
                "D. Passage 2 states that the ban would include immigrants from Libya but not Egypt; passage 1 states that the band would include people from Egypt but not Libya. "
            ],
            answer: "B",
            explanation: "Explanation:  Passage 1 only mentions the US District Judge from Hawaii as blocking the immigration ban, while passage 2 states that US District Judges from Hawaii and Maryland both blocking the ban. Passage 1 was issued three days prior to passage 2, which likely accounts for the missing information. "
        },
    ],
    // Add more question sets as needed
];
let currentQuestionIndex = 0;
let userAnswers = [];
let score = 0;
let currentQuestionSet = 0;

function loadQuestion() {
    const passageContainer = document.querySelector('.passage');
    const questionContainer = document.querySelector('.multiple-choice');
    const currentQuestion = questionsSets[currentQuestionSet][currentQuestionIndex];

    passageContainer.innerHTML = `<p>${currentQuestion.passage}</p>`;

    questionContainer.innerHTML = `
        <p>${currentQuestion.question}</p>
        ${currentQuestion.options.map(option => `
            <label><input type="radio" name="question" value="${option.charAt(0)}"> ${option}</label>
        `).join('')}
        <p class="feedback" id="feedback"></p>
        <p class="explanation" id="explanation"></p>
    `;
}

function nextQuestion() {
    currentQuestionIndex++;
    if (currentQuestionIndex < questionsSets[currentQuestionSet].length) {
        loadQuestion();
        document.getElementById('btnCheck').style.display = 'block';
        document.getElementById('btnNext').style.visibility = 'hidden';
    } else {
        if (currentQuestionSet < questionsSets.length - 1) {
            showResults();
        } else {
            showFinalResults();
        }
    }
}

function checkAnswer() {
    const selectedOption = document.querySelector('input[name="question"]:checked');
    const feedback = document.getElementById('feedback');
    const explanation = document.getElementById('explanation');

    if (selectedOption) {
        const answer = selectedOption.value;
        userAnswers.push(answer);

        if (answer === questionsSets[currentQuestionSet][currentQuestionIndex].answer) {
            feedback.textContent = "Correct!";
            feedback.className = "feedback correct";
            score++;
        } else {
            feedback.textContent = "Incorrect.";
            feedback.className = "feedback incorrect";
        }
        explanation.textContent = questionsSets[currentQuestionSet][currentQuestionIndex].explanation;
        if (currentQuestionIndex === 4) {
            document.getElementById('btnCheck').style.display = 'none';
            document.getElementById('btnNext').style.visibility = 'visible';
            document.getElementById('btnNext').innerHTML = "Show Result";
        } else {
            document.getElementById('btnCheck').style.display = 'none';
            document.getElementById('btnNext').style.visibility = 'visible';
        }
        console.log(currentQuestionIndex);
    } else {
        feedback.textContent = "Please select an answer.";
        feedback.className = "feedback incorrect";
    }
}

function showResults() {
    const passageContainer = document.querySelector('.passage');

    passageContainer.innerHTML = `
        <div class="result-summary">
            <h2>Set ${currentQuestionSet + 1} Results</h2>
            <p>Your score: <span class="score">${score}</span> out of <span class="total">${questionsSets[currentQuestionSet].length}</span></p>
        </div>
        <div class="answer-review">
            <h3>Review Your Answers</h3>
            <ol class="review-list">
                ${userAnswers.map((answer, index) => `
                    <li class="review-item">
                        <p>Your answer: <span class="user-answer ${answer === questionsSets[currentQuestionSet][index].answer ? 'correct' : 'incorrect'}">${answer}</span></p>
                        <p>Correct answer: <span class="correct-answer">${questionsSets[currentQuestionSet][index].answer}</span></p>
                        <p class="explanation">${questionsSets[currentQuestionSet][index].explanation}</p>
                    </li>
                `).join('')}
            </ol>
        </div>
        <button id="next-set-btn" onclick="nextSet()">Next Set</button>
    `;
    document.getElementById('btnNext').style.visibility = 'hidden';
}

function showFinalResults() {
    const box = document.querySelector('.box');
    // passageContainer.style.flex-basis = '100%';

    const questionContainer = document.querySelector('.multiple-choice');
    questionContainer.style.display = 'none';


    box.innerHTML = `
        <div class='final-result'>
            <div class="result-summary">
                <h2>Final Results</h2>
                <p>Your overall score: <span class="score">${score}</span> out of <span class="total">${calculateTotalQuestions()}</span></p>
            </div>
            <div class="answer-review">
                <h3>Review Your Answers</h3>
                <ol class="review-list">
                    ${userAnswers.map((answer, index) => `
                        <li class="review-item">
                            <p>Your answer: <span class="user-answer ${answer === questionsSets[currentQuestionSet][index].answer ? 'correct' : 'incorrect'}">${answer}</span></p>
                            <p>Correct answer: <span class="correct-answer">${questionsSets[currentQuestionSet][index].answer}</span></p>
                            <p class="explanation">${questionsSets[currentQuestionSet][index].explanation}</p>
                        </li>
                    `).join('')}
                </ol>
            </div>
        </div>
        `;
    document.getElementById('btnNext').style.display = 'none';
    document.getElementById('btnGoBack').style.display = 'block';
}

function calculateTotalQuestions() {
    let total = 0;
    for (let i = 0; i < questionsSets.length; i++) {
        total += questionsSets[i].length;
    }
    return total;
}


window.onload = loadQuestion;
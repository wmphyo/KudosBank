const questionsSets = [
    [
        {
            passage: [`US Courts on the Rule of Law<br><br> 
            More than 200 years ago, Alexander Hamilton, James Madison, and John Jay published a series of essays promoting the ratification of the United States Constitution now known as Federalist Papers. In explaining the need for an independent judiciary, Alexander Hamilton noted in The Federalist # 78 that the federal courts "were designed to be an intermediate body between the people and their legislature" in order to ensure that the people's representatives acted only within the authority given to Congress under the Constitution.<br><br> 
            The U.S. Constitution is the nation's fundamental law. It codifies the core values of the people. Courts have the responsibility to interpret the Constitution's meaning, as well as the meaning of any laws passed by Congress. The Federalist # 78 states further that, if any law passed by Congress conflicts with the Constitution, "the Constitution ought to be preferred to the statute, the intention of the people to the intention of their agents."<br><br>  
            The courts play an integral role in maintaining the rule of law, particularly when they hear the grievances voiced by minority groups or by those who may hold minority opinions. Equality before the law is such an essential part of the American system of government that, when a majority, whether acting intentionally or unintentionally, infringes upon the rights of a minority, the Court may see fit to hear both sides of the controversy in court. `,
                ],
            question: "1. Which of the following statements would be considered an opinion as opposed to a statement of fact?",
            options: [
                "A. “Alexander Hamilton, James Madison, and John Jay published a series of essays promoting the ratification of the United States Constitution.” ",
                "B. “If any law passed by Congress conflicts with the Constitution, the Constitution ought to be preferred to the statute, the intention of the people to the intention of their agents.”",
                "C. “Courts have the responsibility to interpret the Constitution's meaning, as well as the meaning of any laws passed by Congress.” ",
                "D. “The U.S. Constitution is the nation's fundamental law.” "
            ],
            answer: "B",
            explanation: "Explanation: The statement “If any law passed by Congress conflicts with the Constitution, the Constitution ought to be preferred to the statute, the intention of the people to the intention of their agents” is an opinion expressed by Alexander Hamilton in the Federalist Papers. The other answer choices are all statements of fact. "
        },
        {
            passage: [`Productivity in Economics<br><br> 

 

            Productivity in the world of economics is defined by an efficient output to input ratio. Increasing productivity can lead to a healthy economy, stimulating a number of positive outcomes: better wages and work conditions, more accessibility to quality goods and services, bigger business profits and larger government funds for social programs. There are many sub-definitions of the term, including partial, multi-factor and total productivity. Productivity is often dictated by process organization, available technology and the ability to convert resources into outputs. Unless scale returns are on the rising end, adding more inputs won't necessarily increase income.<br><br> 
            
            Partial productivity measures only one set of inputs or factors, such as employee hours or materials used per unit of assembly. The most analyzed input is labor, as it's usually indicative of economic development, competitiveness, and employee skills and effort. These types of measures can be faulty, however, because they don't account for a mass of other equally contributing factors. Examples are shift variations and international comparability. Statistical formulas, like Gross Domestic Product (GDP), are skewed with bias. GDP is a calculation of the quarterly or yearly market value of produced goods and services. It favors capital-intensive production over knowledge and labor-intensive production. It also doesn't account for market value against producer income. 
            
            Multi-factor productivity measures multiple sets of inputs. It more effectively assesses the total residual growth that cannot be explained by factors like labor service changes and capital. Additionally, it quantifies the impact of technological advancements. Though, multi-factor productivity has been criticized for being highly presumptive in its structure. The model is based on the postulation that the relation between inputs and outputs are stable and functional at an aggregate level, returns are constant and at scale, and that technical changes are neutral, among other things. Most importantly, it assumes that real income and capital usage are equal, which abates the validity of the measure.<br><br> 
            
            Total productivity measures all inputs, as well as outputs, to get a complete picture of the efficiency of processes. This is arguably the most accurate and valid measure. Business owners and economic leaders use resulting reports to discover what processes need to be maximized. `,
                ],
            question: "2. Which is NOT an outcome of increasing productivity? ",
            options: [
                "A. lower government debt",
                "B. better wages and work conditions",
                "C. accessibility to quality goods and services ",
                "D. larger government funds "
            ],
            answer: "A",
            explanation: "Explanation: According to the passage, “Increasing productivity can lead to a healthy economy, stimulating a number of positive outcomes: better wages and work conditions, more accessibility to quality goods and services, bigger business profits and larger government funds for social programs.” "
        },
        {
            passage: ["The Federalist Party<br><br> The Federalist Party (or Federal Party) was an American political party from 1792 to 1816. The Federalists controlled the federal government until 1801. Alexander Hamilton formed the party during George Washington's first term. Hamilton built a network of supporters for his financial policies. Many supporters came from cities. These supporters grew into the Federalist Party, which wanted a fiscally sound and strong nationalistic government.<br><br>  With the start of the new government under the Constitution, President George Washington appointed his former chief of staff, Alexander Hamilton, to the office of Secretary of the Treasury. Hamilton wanted a strong national government with financial credibility.<br><br> By 1790, Hamilton started building a nationwide coalition. He and his network of treasury agents tried to link together friends of the government, especially merchants and bankers, in the new nation's dozen major cities. His attempts to manage politics in the national capital to get his plans through Congress, then, 'brought strong responses across the country. In the process, what began as a capital faction soon assumed status as a national faction and then, finally, as the new Federalist party.'<br><br> Anti-Federalism<br><br> Anti-Federalism refers to a movement that opposed the creation of a stronger US federal government and which later opposed the ratification of the 1787 Constitution. The previous constitution, called the Articles of Confederation, gave state governments more authority. Led by Patrick Henry of Virginia, Anti-Federalists worried, among other things, that the position of president, then a novelty, might evolve into a monarchy. Though the Constitution was ratified and supplanted the Articles of Confederation, Anti-Federalist influence helped lead to the passage of the US Bill of Rights.",
                ],
            question: "3. Which statement best describes the main difference between the Federalists and the Anti-federalists?",
            options: [
                "A. Anti-federalists were in favor of a strong central government, Federalists preferred a weaker central government with more power going to the states. ",
                "B. Federalists were in favor of a strong central government, Anti-federalists preferred a weaker central government with more power going to the states. ",
                "C. Anti-federalists were in favor of a national bank, and they supported amendments to the US Constitution known as the Bill of Rights. ",
                "D. Federalists were concerned that the presidency could evolve into a monarchy and supported a fiscally sound and strong national government."
            ],
            answer: "B",
            explanation: "Explanation: The Federalists were in favor of a strong, fiscally sound, national government and a national bank. As stated in the passage, “These supporters grew into the Federalist Party, which wanted a fiscally sound and strong nationalistic government.” Anti-federalists opposed the national bank, preferred a weaker central government, with more power going to the states. As stated in the passage, “Anti-Federalism refers to a movement that opposed the creation of a stronger US federal government and which later opposed the ratification of the 1787 Constitution.”"
        },
        {
            passage: "The Rise of Ancient Civilizations<br><br>  Ancient civilizations such as Mesopotamia, Egypt, the Indus Valley, and China laid the foundations for modern society. These early societies developed along river valleys, which provided water for agriculture, transportation, and trade. In Mesopotamia, the Tigris and Euphrates rivers supported the growth of cities like Babylon and Ur. The Nile River was crucial to the prosperity of ancient Egypt, facilitating farming in the desert. The Indus Valley civilization thrived along the Indus River, while ancient China developed along the Yellow River. <br><br> These civilizations made significant advances in writing, law, architecture, and governance. Mesopotamia is credited with creating one of the earliest writing systems, cuneiform, while the Egyptians developed hieroglyphics. The Code of Hammurabi from Mesopotamia is one of the earliest recorded legal codes. Monumental architecture, such as the pyramids of Egypt and the ziggurats of Mesopotamia, showcased their engineering skills and religious beliefs. These early civilizations also established the principles of organized government and social structure, which influenced later societies. <br><br> ",
            question: "4. What role did rivers play in the development of ancient civilizations? ",
            options: [
                "A. They provided a source of entertainment for the population. ",
                "B. They were the primary locations for religious ceremonies. ",
                "C. They facilitated agriculture, transportation, and trade. ",
                "D. They hindered the growth of cities and societies. "
            ],
            answer: "C",
            explanation: "Explanation: Rivers played a crucial role in the development of ancient civilizations by providing the necessary resources for agriculture, transportation, and trade. The availability of water from rivers allowed these early societies to irrigate crops, which supported sustained agricultural production and population growth. Rivers also served as natural highways, facilitating the movement of goods and people, thus enhancing trade and cultural exchange. This is evident in the thriving civilizations of Mesopotamia along the Tigris and Euphrates rivers, Egypt along the Nile, the Indus Valley along the Indus River, and ancient China along the Yellow River.<br><br> Option A is incorrect because, while rivers may have provided some recreational opportunities, their primary importance was in supporting agriculture and trade. Option B is incorrect because, although some religious ceremonies might have taken place near rivers, this was not their main role in the development of civilizations. Option D is incorrect because rivers actually supported, rather than hindered, the growth of cities and societies by providing essential resources and facilitating trade and communication. "
        },
        {
            passage: "The American Civil Rights Movement<br><br>  The American Civil Rights Movement of the 1950s and 1960s was a pivotal period in the struggle for racial equality in the United States. Activists sought to end segregation and discrimination against African Americans and to secure legal recognition and federal protection of their citizenship rights. The movement utilized various strategies, including legal challenges, nonviolent protests, and civil disobedience. One of the most significant events was the 1963 March on Washington for Jobs and Freedom, where Dr. Martin Luther King Jr. delivered his famous 'I Have a Dream' speech. This movement led to landmark legislation such as the Civil Rights Act of 1964, which outlawed discrimination based on race, color, religion, sex, or national origin, and the Voting Rights Act of 1965, which aimed to eliminate racial discrimination in voting. ",
            question: "5. What was one of the major achievements of the American Civil Rights Movement?",
            options: [
                "A. The establishment of the United Nations",
                "B. The Civil Rights Act of 1964",
                "C. The signing of the Treaty of Versailles",
                "D. The passage of the Prohibition Amendment"
            ],
            answer: "D",
            explanation: "Explanation: One of the major achievements of the American Civil Rights Movement was the passage of the Civil Rights Act of 1964. This landmark legislation was a significant step towards ending racial discrimination and segregation in the United States. It prohibited discrimination based on race, color, religion, sex, or national origin in various areas, including employment and public accommodations.<br><br> Option A is incorrect because the establishment of the United Nations occurred in 1945, unrelated to the Civil Rights Movement. Option C is incorrect because the Treaty of Versailles was signed in 1919 to end World War I and is not connected to the Civil Rights Movement. Option D is incorrect because the Prohibition Amendment, which banned alcohol, was passed in 1919 and repealed in 1933, also unrelated to the Civil Rights Movement. "
        },
    ],
    // Add more question sets as needed
];

let currentQuestionIndex = 0;
let userAnswers = [];
let score = 0;
let currentQuestionSet = 0;

function loadQuestion() {
    const passageContainer = document.querySelector('.passage');
    const questionContainer = document.querySelector('.multiple-choice');
    const currentQuestion = questionsSets[currentQuestionSet][currentQuestionIndex];

    passageContainer.innerHTML = `<p>${currentQuestion.passage}</p>`;

    questionContainer.innerHTML = `
        <p>${currentQuestion.question}</p>
        ${currentQuestion.options.map(option => `
            <label><input type="radio" name="question" value="${option.charAt(0)}"> ${option}</label>
        `).join('')}
        <p class="feedback" id="feedback"></p>
        <p class="explanation" id="explanation"></p>
    `;
}

function nextQuestion() {
    currentQuestionIndex++;
    if (currentQuestionIndex < questionsSets[currentQuestionSet].length) {
        loadQuestion();
        document.getElementById('btnCheck').style.display = 'block';
        document.getElementById('btnNext').style.visibility = 'hidden';
    } else {
        if (currentQuestionSet < questionsSets.length - 1) {
            showResults();
        } else {
            showFinalResults();
        }
    }
}

function checkAnswer() {
    const selectedOption = document.querySelector('input[name="question"]:checked');
    const feedback = document.getElementById('feedback');
    const explanation = document.getElementById('explanation');

    if (selectedOption) {
        const answer = selectedOption.value;
        userAnswers.push(answer);

        if (answer === questionsSets[currentQuestionSet][currentQuestionIndex].answer) {
            feedback.textContent = "Correct!";
            feedback.className = "feedback correct";
            score++;
        } else {
            feedback.textContent = "Incorrect.";
            feedback.className = "feedback incorrect";
        }
        explanation.textContent = questionsSets[currentQuestionSet][currentQuestionIndex].explanation;
        if (currentQuestionIndex === 4) {
            document.getElementById('btnCheck').style.display = 'none';
            document.getElementById('btnNext').style.visibility = 'visible';
            document.getElementById('btnNext').innerHTML = "Show Result";
        } else {
            document.getElementById('btnCheck').style.display = 'none';
            document.getElementById('btnNext').style.visibility = 'visible';
        }
        console.log(currentQuestionIndex);
    } else {
        feedback.textContent = "Please select an answer.";
        feedback.className = "feedback incorrect";
    }
}

function showResults() {
    const passageContainer = document.querySelector('.passage');

    passageContainer.innerHTML = `
        <div class="result-summary">
            <h2>Set ${currentQuestionSet + 1} Results</h2>
            <p>Your score: <span class="score">${score}</span> out of <span class="total">${questionsSets[currentQuestionSet].length}</span></p>
        </div>
        <div class="answer-review">
            <h3>Review Your Answers</h3>
            <ol class="review-list">
                ${userAnswers.map((answer, index) => `
                    <li class="review-item">
                        <p>Your answer: <span class="user-answer ${answer === questionsSets[currentQuestionSet][index].answer ? 'correct' : 'incorrect'}">${answer}</span></p>
                        <p>Correct answer: <span class="correct-answer">${questionsSets[currentQuestionSet][index].answer}</span></p>
                        <p class="explanation">${questionsSets[currentQuestionSet][index].explanation}</p>
                    </li>
                `).join('')}
            </ol>
        </div>
        <button id="next-set-btn" onclick="nextSet()">Next Set</button>
    `;
    document.getElementById('btnNext').style.visibility = 'hidden';
}

function showFinalResults() {
    const box = document.querySelector('.box');
    // passageContainer.style.flex-basis = '100%';

    const questionContainer = document.querySelector('.multiple-choice');
    questionContainer.style.display = 'none';


    box.innerHTML = `
        <div class='final-result'>
            <div class="result-summary">
                <h2>Final Results</h2>
                <p>Your overall score: <span class="score">${score}</span> out of <span class="total">${calculateTotalQuestions()}</span></p>
            </div>
            <div class="answer-review">
                <h3>Review Your Answers</h3>
                <ol class="review-list">
                    ${userAnswers.map((answer, index) => `
                        <li class="review-item">
                            <p>Your answer: <span class="user-answer ${answer === questionsSets[currentQuestionSet][index].answer ? 'correct' : 'incorrect'}">${answer}</span></p>
                            <p>Correct answer: <span class="correct-answer">${questionsSets[currentQuestionSet][index].answer}</span></p>
                            <p class="explanation">${questionsSets[currentQuestionSet][index].explanation}</p>
                        </li>
                    `).join('')}
                </ol>
            </div>
        </div>
        `;
    document.getElementById('btnNext').style.display = 'none';
    document.getElementById('btnGoBack').style.display = 'block';
}

function calculateTotalQuestions() {
    let total = 0;
    for (let i = 0; i < questionsSets.length; i++) {
        total += questionsSets[i].length;
    }
    return total;
}


window.onload = loadQuestion;